import{a as h}from"./assets/vendor-34f890c2.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const e of n)if(e.type==="childList")for(const c of e.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(n){const e={};return n.integrity&&(e.integrity=n.integrity),n.referrerPolicy&&(e.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?e.credentials="include":n.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function i(n){if(n.ep)return;n.ep=!0;const e=r(n);fetch(n.href,e)}})();const a=async(t="",o=5)=>{const{data:r}=await h.get("https://api.weatherapi.com/v1/forecast.json",{params:{days:o,q:t,key:"25f15b55d263487589983533240905"}});return r},v=async(t,o)=>{const{data:r}=await h.get("https://geocode.maps.co/reverse",{params:{lat:t,lon:o,api_key:"663cc74cce557992281678asg62c6c6"}});return r},_=document.querySelector(".search__input"),E=document.querySelector(".search__button"),S=document.querySelector(".weather__temp"),q=document.querySelector(".weather__city"),w=document.querySelector(".condition-img"),b=document.querySelector(".condition-text"),g=document.querySelector(".condition-date"),$=document.querySelector('p[data-textCondition="feelslike"]'),L=document.querySelector('p[data-textCondition="wind_mph"]'),M=document.querySelector('p[data-textCondition="humidity"]'),k=document.querySelector('p[data-textCondition="uv"]'),P=document.querySelector(".weather__text-range"),s=document.querySelector(".loader");document.addEventListener("DOMContentLoaded",()=>{if(confirm("Allow location access?"))try{navigator.geolocation.getCurrentPosition(async o=>{const{latitude:r,longitude:i}=o.coords,n=await v(r,i),e=await a(`${n.address.town}, ${n.address.country}`);l(e),u(e),d(e),s.style.visibility="hidden",m(".card__container")},async o=>{alert("Error getting geolocation. Please enter the name of the city",o);const r=await a("Kyiv");l(r),u(r),d(r),s.style.visibility="hidden",m(".card__container")})}catch(o){console.error("Error getting geolocation",o)}else alert("Error getting geolocation. Please enter the name of the city"),s.style.visibility="hidden"});E.addEventListener("click",async()=>{const t=_.value;try{s.style.visibility="visible",x(".card__container");const o=await a(t);l(o),u(o),d(o),s.style.visibility="hidden",m(".card__container")}catch(o){console.error("Error fetching weather data:",o)}});_.addEventListener("keydown",async t=>{if(t.key==="Enter"){const o=_.value;try{s.style.visibility="visible",x(".card__container");const r=await a(o);l(r),u(r),d(r),s.style.visibility="hidden",m(".card__container")}catch(r){console.error("Error fetching weather data:",r)}}});function l(t){q.textContent=`${t.location.name}, ${t.location.country}`,w.src=`${t.current.condition.icon}`,S.textContent=`${t.current.temp_c}ÂºC`,b.textContent=t.current.condition.text,g.textContent=t.location.localtime,$.textContent=`${t.current.feelslike_c}Âº`,L.textContent=`${t.current.wind_dir} ${t.current.wind_kph}kph`,M.textContent=`${t.current.humidity} %`,k.textContent=`${t.current.uv}`,P.textContent=`Min ðŸŒ¡: ${t.forecast.forecastday[0].day.mintemp_c} | Max ðŸŒ¡: ${t.forecast.forecastday[0].day.maxtemp_c}`}function u(t){const o=t.forecast.forecastday.flatMap(e=>e.hour),r=document.querySelector(".details"),i=`    
    <img class="details__img" src="" alt="">
      <p class="details__hour"></p>
      <p class="details__temp"></p>
      
      <p class="details__text"></p>
  
  `;r.innerHTML="";let n=[];o.forEach(e=>{if(e.time>g.textContent){const c=document.createElement("div");c.classList.add("details__col"),c.innerHTML=i;const y=c.querySelector(".details__hour"),f=c.querySelector(".details__img"),p=c.querySelector(".details__text"),C=c.querySelector(".details__temp");y.textContent=e.time.slice(11),C.textContent=`ðŸŒ¡${e.temp_c}`,f.src=e.condition.icon,p.textContent=`â˜” ${e.chance_of_rain}%`,n.push(c)}}),n=n.slice(0,5),n.forEach(e=>{r.appendChild(e)})}function d(t){const o=document.querySelector(".future"),r=`    
    <img class="future__img" src="" alt="">
      <p class="future__day"></p>
      <p class="future__temp"></p>
      
      <p class="future__text"></p>
  
  `;o.innerHTML="";let i=[];t.forecast.forecastday.forEach(n=>{const e=document.createElement("div");e.classList.add("future__col"),e.innerHTML=r;const c=e.querySelector(".future__day"),y=e.querySelector(".future__img"),f=e.querySelector(".future__text"),p=e.querySelector(".future__temp");c.textContent=new Date(n.date).toLocaleDateString("en-US",{weekday:"short"}),p.textContent=`${n.day.maxtemp_c}Âº | ${n.day.mintemp_c}Âº`,y.src=n.day.condition.icon,f.textContent=`â˜” ${n.day.daily_chance_of_rain}%`,i.push(e)}),i.forEach(n=>{o.appendChild(n)})}function x(t){document.querySelectorAll(t).forEach(r=>{r.style.visibility="hidden"})}function m(t){document.querySelectorAll(t).forEach(r=>{r.style.visibility="visible"})}
//# sourceMappingURL=commonHelpers.js.map
