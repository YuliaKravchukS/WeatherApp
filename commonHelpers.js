import{a as y}from"./assets/vendor-34f890c2.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(t){if(t.ep)return;t.ep=!0;const n=r(t);fetch(t.href,n)}})();const a=async(e="",o=7)=>{const{data:r}=await y.get("https://api.weatherapi.com/v1/forecast.json",{params:{days:o,q:e,key:"25f15b55d263487589983533240905"}});return r},g=async(e,o)=>{const{data:r}=await y.get("https://geocode.maps.co/reverse",{params:{lat:e,lon:o,api_key:"663cc74cce557992281678asg62c6c6"}});return r},p=document.querySelector(".search__input"),x=document.querySelector(".search__button"),S=document.querySelector(".weather__temp"),q=document.querySelector(".weather__city"),w=document.querySelector(".condition-img"),E=document.querySelector(".condition-text"),_=document.querySelector(".condition-date"),L=document.querySelector('p[data-textCondition="feelslike"]'),$=document.querySelector('p[data-textCondition="wind_mph"]'),v=document.querySelector('p[data-textCondition="humidity"]'),M=document.querySelector('p[data-textCondition="uv"]'),k=document.querySelector(".weather__text-range");document.addEventListener("DOMContentLoaded",()=>{try{navigator.geolocation.getCurrentPosition(async e=>{const{latitude:o,longitude:r}=e.coords,s=await g(o,r);console.log("dataCurrentPosition: ",s.address.town);const t=await a(`${s.address.town}, ${s.address.country}`);u(t),l(t),d(t)},async e=>{alert("Error getting geolocation. Please enter the name of the city",e);const o=await a("Kyiv");u(o),l(o),d(o)})}catch(e){console.error("Помилка при спробі отримати геолокацію:",e)}});x.addEventListener("click",async()=>{const e=p.value;try{const o=await a(e);u(o),l(o),d(o)}catch(o){console.error("Error fetching weather data:",o)}});p.addEventListener("keydown",async e=>{if(e.key==="Enter"){const o=p.value;try{const r=await a(o);u(r),l(r),d(r)}catch(r){console.error("Error fetching weather data:",r)}}});function u(e){q.textContent=`${e.location.name}, ${e.location.country}`,w.src=`${e.current.condition.icon}`,S.textContent=`${e.current.temp_c}ºC`,E.textContent=e.current.condition.text,_.textContent=e.location.localtime,L.textContent=`${e.current.feelslike_c}º`,$.textContent=`${e.current.wind_dir} ${e.current.wind_kph}kph`,v.textContent=`${e.current.humidity} %`,M.textContent=`${e.current.uv}`,k.textContent=`Min 🌡: ${e.forecast.forecastday[0].day.mintemp_c} | Max 🌡: ${e.forecast.forecastday[0].day.maxtemp_c}`}function l(e){const o=e.forecast.forecastday.flatMap(c=>c.hour),r=document.querySelector(".details"),s=document.querySelector(".future"),t=`    
    <img class="details__img" src="" alt="">
      <p class="details__hour"></p>
      <p class="details__temp"></p>
      
      <p class="details__text"></p>
  
  `;r.innerHTML="",s.innerHTML="";let n=[];o.forEach(c=>{if(c.time>_.textContent){const i=document.createElement("div");i.classList.add("details__col"),i.innerHTML=t;const m=i.querySelector(".details__hour"),f=i.querySelector(".details__img"),h=i.querySelector(".details__text"),C=i.querySelector(".details__temp");m.textContent=c.time.slice(11),C.textContent=`🌡${c.temp_c}`,f.src=c.condition.icon,h.textContent=`☔ ${c.chance_of_rain}%`,n.push(i)}}),n=n.slice(0,7),n.forEach(c=>{r.appendChild(c)})}function d(e){const o=document.querySelector(".future"),r=`    
    <img class="future__img" src="" alt="">
      <p class="future__day"></p>
      <p class="future__temp"></p>
      
      <p class="future__text"></p>
  
  `;o.innerHTML="";let s=[];e.forecast.forecastday.forEach(t=>{const n=document.createElement("div");n.classList.add("future__col"),n.innerHTML=r;const c=n.querySelector(".future__day"),i=n.querySelector(".future__img"),m=n.querySelector(".future__text"),f=n.querySelector(".future__temp");c.textContent=new Date(t.date).toLocaleDateString("en-US",{weekday:"short"}),f.textContent=`${t.day.maxtemp_c}º | ${t.day.mintemp_c}º`,i.src=t.day.condition.icon,m.textContent=`☔ ${t.day.daily_chance_of_rain}%`,s.push(n)}),s.forEach(t=>{o.appendChild(t)})}
//# sourceMappingURL=commonHelpers.js.map
