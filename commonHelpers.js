import{a as g}from"./assets/vendor-34f890c2.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(t){if(t.ep)return;t.ep=!0;const n=r(t);fetch(t.href,n)}})();const a=async(e="",o=5)=>{const{data:r}=await g.get("https://api.weatherapi.com/v1/forecast.json",{params:{days:o,q:e,key:"25f15b55d263487589983533240905"}});return r},v=async(e,o)=>{const{data:r}=await g.get("https://geocode.maps.co/reverse",{params:{lat:e,lon:o,api_key:"663cc74cce557992281678asg62c6c6"}});return r},h=document.querySelector(".search__input"),S=document.querySelector(".search__button"),q=document.querySelector(".weather__temp"),E=document.querySelector(".weather__city"),w=document.querySelector(".condition-img"),b=document.querySelector(".condition-text"),x=document.querySelector(".condition-date"),$=document.querySelector('p[data-textCondition="feelslike"]'),L=document.querySelector('p[data-textCondition="wind_mph"]'),M=document.querySelector('p[data-textCondition="humidity"]'),k=document.querySelector('p[data-textCondition="uv"]'),O=document.querySelector(".weather__text-range"),s=document.querySelector(".loader");y(".card__container");document.addEventListener("DOMContentLoaded",()=>{confirm("Дозволити доступ до місцезнаходження?"),y(".card__container");try{navigator.geolocation.getCurrentPosition(async e=>{const{latitude:o,longitude:r}=e.coords,i=await v(o,r),t=await a(`${i.address.town}, ${i.address.country}`);l(t),u(t),d(t),s.style.visibility="hidden",m(".card__container")},async e=>{alert("Error getting geolocation. Please enter the name of the city",e);const o=await a("Kyiv");l(o),u(o),d(o),s.style.visibility="hidden",m(".card__container")})}catch(e){console.error("Error getting geolocation",e)}});S.addEventListener("click",async()=>{const e=h.value;try{s.style.visibility="visible",y(".card__container");const o=await a(e);l(o),u(o),d(o),s.style.visibility="hidden",m(".card__container")}catch(o){console.error("Error fetching weather data:",o)}});h.addEventListener("keydown",async e=>{if(e.key==="Enter"){const o=h.value;try{s.style.visibility="visible",y(".card__container");const r=await a(o);l(r),u(r),d(r),s.style.visibility="hidden",m(".card__container")}catch(r){console.error("Error fetching weather data:",r)}}});function l(e){E.textContent=`${e.location.name}, ${e.location.country}`,w.src=`${e.current.condition.icon}`,q.textContent=`${e.current.temp_c}ºC`,b.textContent=e.current.condition.text,x.textContent=e.location.localtime,$.textContent=`${e.current.feelslike_c}º`,L.textContent=`${e.current.wind_dir} ${e.current.wind_kph}kph`,M.textContent=`${e.current.humidity} %`,k.textContent=`${e.current.uv}`,O.textContent=`Min 🌡: ${e.forecast.forecastday[0].day.mintemp_c} | Max 🌡: ${e.forecast.forecastday[0].day.maxtemp_c}`}function u(e){const o=e.forecast.forecastday.flatMap(n=>n.hour),r=document.querySelector(".details"),i=`    
    <img class="details__img" src="" alt="">
      <p class="details__hour"></p>
      <p class="details__temp"></p>
      
      <p class="details__text"></p>
  
  `;r.innerHTML="";let t=[];o.forEach(n=>{if(n.time>x.textContent){const c=document.createElement("div");c.classList.add("details__col"),c.innerHTML=i;const _=c.querySelector(".details__hour"),f=c.querySelector(".details__img"),p=c.querySelector(".details__text"),C=c.querySelector(".details__temp");_.textContent=n.time.slice(11),C.textContent=`🌡${n.temp_c}`,f.src=n.condition.icon,p.textContent=`☔ ${n.chance_of_rain}%`,t.push(c)}}),t=t.slice(0,5),t.forEach(n=>{r.appendChild(n)})}function d(e){const o=document.querySelector(".future"),r=`    
    <img class="future__img" src="" alt="">
      <p class="future__day"></p>
      <p class="future__temp"></p>
      
      <p class="future__text"></p>
  
  `;o.innerHTML="";let i=[];e.forecast.forecastday.forEach(t=>{const n=document.createElement("div");n.classList.add("future__col"),n.innerHTML=r;const c=n.querySelector(".future__day"),_=n.querySelector(".future__img"),f=n.querySelector(".future__text"),p=n.querySelector(".future__temp");c.textContent=new Date(t.date).toLocaleDateString("en-US",{weekday:"short"}),p.textContent=`${t.day.maxtemp_c}º | ${t.day.mintemp_c}º`,_.src=t.day.condition.icon,f.textContent=`☔ ${t.day.daily_chance_of_rain}%`,i.push(n)}),i.forEach(t=>{o.appendChild(t)})}function y(e){document.querySelectorAll(e).forEach(r=>{r.style.visibility="hidden"})}function m(e){document.querySelectorAll(e).forEach(r=>{r.style.visibility="visible"})}
//# sourceMappingURL=commonHelpers.js.map
