import{a as g}from"./assets/vendor-34f890c2.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(t){if(t.ep)return;t.ep=!0;const o=r(t);fetch(t.href,o)}})();const l=async(e="",n=7)=>{const{data:r}=await g.get("https://api.weatherapi.com/v1/forecast.json",{params:{days:n,q:e,key:"25f15b55d263487589983533240905"}});return r},q=async(e,n)=>{const{data:r}=await g.get("https://geocode.maps.co/reverse",{params:{lat:e,lon:n,api_key:"663cc74cce557992281678asg62c6c6"}});return r},h=document.querySelector(".search__input"),v=document.querySelector(".search__button"),E=document.querySelector(".weather__temp"),w=document.querySelector(".weather__city"),b=document.querySelector(".condition-img"),L=document.querySelector(".condition-text"),C=document.querySelector(".condition-date"),$=document.querySelector('p[data-textCondition="feelslike"]'),M=document.querySelector('p[data-textCondition="wind_mph"]'),k=document.querySelector('p[data-textCondition="humidity"]'),O=document.querySelector('p[data-textCondition="uv"]'),P=document.querySelector(".weather__text-range"),a=document.querySelector(".loader");f(".card__container");document.addEventListener("DOMContentLoaded",()=>{f(".card__container");try{navigator.geolocation.getCurrentPosition(async e=>{const{latitude:n,longitude:r}=e.coords,i=await q(n,r),t=await l(`${i.address.town}, ${i.address.country}`);u(t),d(t),m(t),a.style.visibility="hidden",y(".card__container")},async e=>{alert("Error getting geolocation. Please enter the name of the city",e);const n=await l("Kyiv");u(n),d(n),m(n),a.style.visibility="hidden",y(".card__container")})}catch(e){console.error("Error getting geolocation",e)}});v.addEventListener("click",async()=>{const e=h.value;try{a.style.visibility="visible",f(".card__container");const n=await l(e);u(n),d(n),m(n),a.style.visibility="hidden",y(".card__container")}catch(n){console.error("Error fetching weather data:",n)}});h.addEventListener("keydown",async e=>{if(e.key==="Enter"){const n=h.value;try{a.style.visibility="visible",f(".card__container");const r=await l(n);u(r),d(r),m(r),a.style.visibility="hidden",y(".card__container")}catch(r){console.error("Error fetching weather data:",r)}}});function u(e){w.textContent=`${e.location.name}, ${e.location.country}`,b.src=`${e.current.condition.icon}`,E.textContent=`${e.current.temp_c}ÂºC`,L.textContent=e.current.condition.text,C.textContent=e.location.localtime,$.textContent=`${e.current.feelslike_c}Âº`,M.textContent=`${e.current.wind_dir} ${e.current.wind_kph}kph`,k.textContent=`${e.current.humidity} %`,O.textContent=`${e.current.uv}`,P.textContent=`Min ðŸŒ¡: ${e.forecast.forecastday[0].day.mintemp_c} | Max ðŸŒ¡: ${e.forecast.forecastday[0].day.maxtemp_c}`}function d(e){const n=e.forecast.forecastday.flatMap(c=>c.hour),r=document.querySelector(".details"),i=document.querySelector(".future"),t=`    
    <img class="details__img" src="" alt="">
      <p class="details__hour"></p>
      <p class="details__temp"></p>
      
      <p class="details__text"></p>
  
  `;r.innerHTML="",i.innerHTML="";let o=[];n.forEach(c=>{if(c.time>C.textContent){const s=document.createElement("div");s.classList.add("details__col"),s.innerHTML=t;const _=s.querySelector(".details__hour"),p=s.querySelector(".details__img"),x=s.querySelector(".details__text"),S=s.querySelector(".details__temp");_.textContent=c.time.slice(11),S.textContent=`ðŸŒ¡${c.temp_c}`,p.src=c.condition.icon,x.textContent=`â˜” ${c.chance_of_rain}%`,o.push(s)}}),o=o.slice(0,7),o.forEach(c=>{r.appendChild(c)})}function m(e){const n=document.querySelector(".future"),r=`    
    <img class="future__img" src="" alt="">
      <p class="future__day"></p>
      <p class="future__temp"></p>
      
      <p class="future__text"></p>
  
  `;n.innerHTML="";let i=[];e.forecast.forecastday.forEach(t=>{const o=document.createElement("div");o.classList.add("future__col"),o.innerHTML=r;const c=o.querySelector(".future__day"),s=o.querySelector(".future__img"),_=o.querySelector(".future__text"),p=o.querySelector(".future__temp");c.textContent=new Date(t.date).toLocaleDateString("en-US",{weekday:"short"}),p.textContent=`${t.day.maxtemp_c}Âº | ${t.day.mintemp_c}Âº`,s.src=t.day.condition.icon,_.textContent=`â˜” ${t.day.daily_chance_of_rain}%`,i.push(o)}),i.forEach(t=>{n.appendChild(t)})}function f(e){document.querySelectorAll(e).forEach(r=>{r.style.visibility="hidden"})}function y(e){document.querySelectorAll(e).forEach(r=>{r.style.visibility="visible"})}
//# sourceMappingURL=commonHelpers.js.map
