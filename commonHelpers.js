import{a as y}from"./assets/vendor-34f890c2.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(t){if(t.ep)return;t.ep=!0;const o=r(t);fetch(t.href,o)}})();const d=async(e="",n=7)=>{const{data:r}=await y.get("https://api.weatherapi.com/v1/forecast.json",{params:{days:n,q:e,key:"25f15b55d263487589983533240905"}});return r},x=async(e,n)=>{const{data:r}=await y.get("https://geocode.maps.co/reverse",{params:{lat:e,lon:n,api_key:"663cc74cce557992281678asg62c6c6"}});return r},l=document.querySelector(".search__input"),g=document.querySelector(".search__button"),S=document.querySelector(".weather__temp"),q=document.querySelector(".weather__city"),w=document.querySelector(".condition-img"),E=document.querySelector(".condition-text"),_=document.querySelector(".condition-date"),L=document.querySelector('p[data-textCondition="feelslike"]'),$=document.querySelector('p[data-textCondition="wind_mph"]'),v=document.querySelector('p[data-textCondition="humidity"]'),M=document.querySelector('p[data-textCondition="uv"]'),k=document.querySelector(".weather__text-range");document.addEventListener("DOMContentLoaded",()=>{try{navigator.geolocation.getCurrentPosition(async e=>{const{latitude:n,longitude:r}=e.coords,s=await x(n,r);console.log("dataCurrentPosition: ",s.address.town);const t=await d(`${s.address.town}, ${s.address.country}`);m(t),f(t),p(t)},e=>{console.error("Помилка отримання геолокації:",e)})}catch(e){console.error("Помилка при спробі отримати геолокацію:",e)}});g.addEventListener("click",async()=>{const e=l.value;try{const n=await d(e);m(n),f(n),p(n)}catch(n){console.error("Error fetching weather data:",n)}});l.addEventListener("keydown",async e=>{if(e.key==="Enter"){const n=l.value;try{const r=await d(n);m(r),f(r),p(r)}catch(r){console.error("Error fetching weather data:",r)}}});function m(e){q.textContent=`${e.location.name}, ${e.location.country}`,w.src=`${e.current.condition.icon}`,S.textContent=`${e.current.temp_c}ºC`,E.textContent=e.current.condition.text,_.textContent=e.location.localtime,L.textContent=`${e.current.feelslike_c}º`,$.textContent=`${e.current.wind_dir} ${e.current.wind_kph}kph`,v.textContent=`${e.current.humidity} %`,M.textContent=`${e.current.uv}`,k.textContent=`Min 🌡: ${e.forecast.forecastday[0].day.mintemp_c} | Max 🌡: ${e.forecast.forecastday[0].day.maxtemp_c}`}function f(e){const n=e.forecast.forecastday.flatMap(c=>c.hour),r=document.querySelector(".details"),s=document.querySelector(".future"),t=`    
    <img class="details__img" src="" alt="">
      <p class="details__hour"></p>
      <p class="details__temp"></p>
      
      <p class="details__text"></p>
  
  `;r.innerHTML="",s.innerHTML="";let o=[];n.forEach(c=>{if(c.time>_.textContent){const i=document.createElement("div");i.classList.add("details__col"),i.innerHTML=t;const a=i.querySelector(".details__hour"),u=i.querySelector(".details__img"),h=i.querySelector(".details__text"),C=i.querySelector(".details__temp");a.textContent=c.time.slice(11),C.textContent=`🌡${c.temp_c}`,u.src=c.condition.icon,h.textContent=`☔ ${c.chance_of_rain}%`,o.push(i)}}),o=o.slice(0,7),o.forEach(c=>{r.appendChild(c)})}function p(e){const n=document.querySelector(".future"),r=`    
    <img class="future__img" src="" alt="">
      <p class="future__day"></p>
      <p class="future__temp"></p>
      
      <p class="future__text"></p>
  
  `;n.innerHTML="";let s=[];e.forecast.forecastday.forEach(t=>{const o=document.createElement("div");o.classList.add("future__col"),o.innerHTML=r;const c=o.querySelector(".future__day"),i=o.querySelector(".future__img"),a=o.querySelector(".future__text"),u=o.querySelector(".future__temp");c.textContent=new Date(t.date).toLocaleDateString("en-US",{weekday:"short"}),u.textContent=`${t.day.maxtemp_c}º | ${t.day.mintemp_c}º`,i.src=t.day.condition.icon,a.textContent=`☔ ${t.day.daily_chance_of_rain}%`,s.push(o)}),s.forEach(t=>{n.appendChild(t)})}
//# sourceMappingURL=commonHelpers.js.map
