import{a as x}from"./assets/vendor-34f890c2.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(t){if(t.ep)return;t.ep=!0;const n=r(t);fetch(t.href,n)}})();const C=x.create({baseURL:"http://api.weatherapi.com/v1"}),d=async(e="",o=7)=>{const{data:r}=await C.get("/forecast.json",{params:{days:o,q:e,key:"7e3aa98d0d394983b9975256240705"}});return r},l=document.querySelector(".search__input"),g=document.querySelector(".search__button"),S=document.querySelector(".weather__temp"),q=document.querySelector(".weather__city"),E=document.querySelector(".condition-img"),L=document.querySelector(".condition-text"),y=document.querySelector(".condition-date"),w=document.querySelector('p[data-textCondition="feelslike"]'),$=document.querySelector('p[data-textCondition="wind_mph"]'),v=document.querySelector('p[data-textCondition="humidity"]'),M=document.querySelector('p[data-textCondition="uv"]'),b=document.querySelector(".weather__text-range");document.addEventListener("DOMContentLoaded",()=>{try{navigator.geolocation.getCurrentPosition(async e=>{const{latitude:o,longitude:r}=e.coords,i=`${o}, ${r}`,t=await d(i);m(t),f(t),p(t)},e=>{console.error("Помилка отримання геолокації:",e)})}catch(e){console.error("Помилка при спробі отримати геолокацію:",e)}});g.addEventListener("click",async()=>{const e=l.value;try{const o=await d(e);m(o),f(o),p(o)}catch(o){console.error("Error fetching weather data:",o)}});l.addEventListener("keydown",async e=>{if(e.key==="Enter"){const o=l.value;try{const r=await d(o);m(r),f(r),p(r)}catch(r){console.error("Error fetching weather data:",r)}}});function m(e){q.textContent=`${e.location.name}, ${e.location.country}`,E.src=`${e.current.condition.icon}`,S.textContent=`${e.current.temp_c}ºC`,L.textContent=e.current.condition.text,y.textContent=e.location.localtime,w.textContent=`${e.current.feelslike_c}º`,$.textContent=`${e.current.wind_dir} ${e.current.wind_kph}kph`,v.textContent=`${e.current.humidity} %`,M.textContent=`${e.current.uv}`,b.textContent=`Min 🌡: ${e.forecast.forecastday[0].day.mintemp_c} | Max 🌡: ${e.forecast.forecastday[0].day.maxtemp_c}`}function f(e){const o=e.forecast.forecastday.flatMap(c=>c.hour),r=document.querySelector(".details"),i=document.querySelector(".future"),t=`    
    <img class="details__img" src="" alt="">
      <p class="details__hour"></p>
      <p class="details__temp"></p>
      
      <p class="details__text"></p>
  
  `;r.innerHTML="",i.innerHTML="";let n=[];o.forEach(c=>{if(c.time>y.textContent){const s=document.createElement("div");s.classList.add("details__col"),s.innerHTML=t;const a=s.querySelector(".details__hour"),u=s.querySelector(".details__img"),_=s.querySelector(".details__text"),h=s.querySelector(".details__temp");a.textContent=c.time.slice(11),h.textContent=`🌡${c.temp_c}`,u.src=c.condition.icon,_.textContent=`☔ ${c.chance_of_rain}%`,n.push(s)}}),n=n.slice(0,7),n.forEach(c=>{r.appendChild(c)})}function p(e){const o=document.querySelector(".future"),r=`    
    <img class="future__img" src="" alt="">
      <p class="future__day"></p>
      <p class="future__temp"></p>
      
      <p class="future__text"></p>
  
  `;o.innerHTML="";let i=[];e.forecast.forecastday.forEach(t=>{const n=document.createElement("div");n.classList.add("future__col"),n.innerHTML=r;const c=n.querySelector(".future__day"),s=n.querySelector(".future__img"),a=n.querySelector(".future__text"),u=n.querySelector(".future__temp");c.textContent=new Date(t.date).toLocaleDateString("en-US",{weekday:"short"}),u.textContent=`${t.day.maxtemp_c}º | ${t.day.mintemp_c}º`,s.src=t.day.condition.icon,a.textContent=`☔ ${t.day.daily_chance_of_rain}%`,i.push(n)}),i.forEach(t=>{o.appendChild(t)})}
//# sourceMappingURL=commonHelpers.js.map
